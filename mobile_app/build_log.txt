Resolving dependencies...
Downloading packages...
  _flutterfire_internals 1.3.59 (1.3.65 available)
  characters 1.4.0 (1.4.1 available)
  ffi 2.1.4 (2.1.5 available)
  file_picker 8.3.7 (10.3.8 available)
  firebase_core 3.15.2 (4.3.0 available)
  firebase_core_web 2.24.1 (3.3.1 available)
  firebase_messaging 15.2.10 (16.1.0 available)
  firebase_messaging_platform_interface 4.6.10 (4.7.5 available)
  firebase_messaging_web 3.10.10 (4.1.1 available)
  flutter_launcher_icons 0.13.1 (0.14.4 available)
  flutter_local_notifications 18.0.1 (19.5.0 available)
  flutter_local_notifications_linux 5.0.0 (6.0.0 available)
  flutter_local_notifications_platform_interface 8.0.0 (9.1.0 available)
  flutter_secure_storage 9.2.4 (10.0.0 available)
  flutter_secure_storage_linux 1.2.3 (3.0.0 available)
  flutter_secure_storage_macos 3.1.3 (4.0.0 available)
  flutter_secure_storage_platform_interface 1.1.2 (2.0.1 available)
  flutter_secure_storage_web 1.2.1 (2.1.0 available)
  flutter_secure_storage_windows 3.1.2 (4.1.0 available)
  google_fonts 6.3.3 (7.0.0 available)
  image 4.5.4 (4.7.2 available)
  js 0.6.7 (0.7.2 available)
  matcher 0.12.17 (0.12.18 available)
  material_color_utilities 0.11.1 (0.13.0 available)
  test_api 0.7.7 (0.7.9 available)
  timezone 0.10.1 (0.11.0 available)
Got dependencies!
26 packages have newer versions incompatible with dependency constraints.
Try `flutter pub outdated` for more information.
Compiling lib/main.dart for the Web...                          
Wasm dry run findings:
Found incompatibilities with WebAssembly.

package:flutter_secure_storage_web/flutter_secure_storage_web.dart 5:1 - dart:html unsupported (0)
package:flutter_secure_storage_web/src/subtle.dart 21:1 - dart:html unsupported (0)
package:js/js.dart 10:1 - dart:js unsupported (1)
package:flutter_secure_storage_web/flutter_secure_storage_web.dart 6:1 - JS interop library 'dart:js_util' can't be imported when compiling to Wasm. (2)
package:flutter_secure_storage_web/src/subtle.dart 22:1 - JS interop library 'dart:js_util' can't be imported when compiling to Wasm. (2)
package:flutter_secure_storage_web/src/subtle.dart 26:1 - JS interop library 'package:js/js.dart' can't be imported when compiling to Wasm. (2)

Consider addressing these issues to enable wasm builds. See docs for more info: https://docs.flutter.dev/platform-integration/web/wasm

Use --no-wasm-dry-run to disable these warnings.
Target dart2js failed: ProcessException: Process exited abnormally with exit code 1:
lib/features/chat/chat_screen.dart:415:31:
Error: Can't find ')' to match '('.
                  child: Align(
                              ^
lib/features/chat/chat_screen.dart:399:35:
Error: Can't find ')' to match '('.
                return Dismissible(
                                  ^
lib/features/chat/chat_screen.dart:335:45:
Error: Can't find '}' to match '{'.
              itemBuilder: (context, index) {
                                            ^
lib/features/chat/chat_screen.dart:330:49:
Error: Can't find ')' to match '('.
              : ScrollablePositionedList.builder(
                                                ^
lib/features/chat/chat_screen.dart:327:19:
Error: Can't find ')' to match '('.
          Expanded(
                  ^
lib/features/chat/chat_screen.dart:528:16:
Error: Expected a class member, but got ','.
              },
               ^
lib/features/chat/chat_screen.dart:529:13:
Error: Expected a class member, but got ')'.
            ),
            ^
lib/features/chat/chat_screen.dart:529:14:
Error: Expected a class member, but got ','.
            ),
             ^
lib/features/chat/chat_screen.dart:530:11:
Error: Expected a class member, but got ')'.
          ),
          ^
lib/features/chat/chat_screen.dart:530:12:
Error: Expected a class member, but got ','.
          ),
           ^
lib/features/chat/chat_screen.dart:532:11:
Error: Expected a class member, but got 'if'.
          if (_replyMessage != null)
          ^^
lib/features/chat/chat_screen.dart:532:29:
Error: Expected ')' before this.
          if (_replyMessage != null)
                            ^^
lib/features/chat/chat_screen.dart:532:36:
Error: A record type with exactly one positional field requires a trailing comma.
          if (_replyMessage != null)
                                   ^
lib/features/chat/chat_screen.dart:534:22:
Error: Non-optional parameters can't have a default value.
              padding: const EdgeInsets.all(8),
                     ^
lib/features/chat/chat_screen.dart:535:20:
Error: Non-optional parameters can't have a default value.
              color: Colors.grey[100],
                   ^
lib/features/chat/chat_screen.dart:536:20:
Error: Non-optional parameters can't have a default value.
              child: Row(
                   ^
lib/features/chat/chat_screen.dart:563:14:
Error: Expected '{' before this.
            ),
             ^
lib/features/chat/chat_screen.dart:563:14:
Error: Expected a class member, but got ','.
            ),
             ^
lib/features/chat/chat_screen.dart:567:20:
Error: Non-optional parameters can't have a default value.
            padding: const EdgeInsets.all(8),
                   ^
lib/features/chat/chat_screen.dart:568:18:
Error: Non-optional parameters can't have a default value.
            color: Colors.white,
                 ^
lib/features/chat/chat_screen.dart:569:18:
Error: Non-optional parameters can't have a default value.
            child: Row(
                 ^
lib/features/chat/chat_screen.dart:591:12:
Error: Expected '{' before this.
          ),
           ^
lib/features/chat/chat_screen.dart:591:12:
Error: Expected a class member, but got ','.
          ),
           ^
lib/features/chat/chat_screen.dart:592:9:
Error: Expected a class member, but got ']'.
        ],
        ^
lib/features/chat/chat_screen.dart:592:10:
Error: Expected a class member, but got ','.
        ],
         ^
lib/features/chat/chat_screen.dart:593:7:
Error: Expected a class member, but got ')'.
      ),
      ^
lib/features/chat/chat_screen.dart:593:8:
Error: Expected a class member, but got ','.
      ),
       ^
lib/features/chat/chat_screen.dart:594:5:
Error: Expected a class member, but got ')'.
    );
    ^
lib/features/chat/chat_screen.dart:594:6:
Error: Expected a class member, but got ';'.
    );
     ^
lib/features/chat/chat_screen.dart:596:1:
Error: Expected a declaration, but got '}'.
}
^
lib/features/chat/chat_screen.dart:566:11:
Error: 'Container' is already declared in this scope.
          Container(
          ^^^^^^^^^
lib/features/chat/chat_screen.dart:533:13:
Info: Previous declaration of 'Container'.
            Container(
            ^^^^^^^^^
lib/features/chat/chat_screen.dart:532:15:
Error: '_replyMessage' isn't a type.
          if (_replyMessage != null)
              ^^^^^^^^^^^^^
lib/features/chat/chat_screen.dart:32:25:
Info: This isn't a type.
  Map<String, dynamic>? _replyMessage; // Swipe to reply state (Use Map instead of dynamic for type safety)
                        ^^^^^^^^^^^^^
lib/features/chat/chat_screen.dart:545:42:
Error: Not a constant expression.
                          "Replying to ${_replyMessage!['sender']['username']}",
                                         ^^^^^^^^^^^^^
lib/features/chat/chat_screen.dart:544:25:
Error: Constant expression expected.
                        Text(
                        ^^^^
lib/features/chat/chat_screen.dart:549:27:
Error: Not a constant expression.
                          _replyMessage!['text'],
                          ^^^^^^^^^^^^^
lib/features/chat/chat_screen.dart:548:25:
Error: Constant expression expected.
                        Text(
                        ^^^^
lib/features/chat/chat_screen.dart:543:33:
Error: Constant expression expected.
                      children: [
                                ^
lib/features/chat/chat_screen.dart:541:28:
Error: Constant expression expected.
                    child: Column(
                           ^^^^^^
lib/features/chat/chat_screen.dart:540:19:
Error: Constant expression expected.
                  Expanded(
                  ^^^^^^^^
lib/features/chat/chat_screen.dart:559:67:
Error: Not a constant expression.
                    onPressed: () => setState(() => _replyMessage = null),
                                                                  ^
lib/features/chat/chat_screen.dart:559:47:
Error: Not a constant expression.
                    onPressed: () => setState(() => _replyMessage = null),
                                              ^^
lib/features/chat/chat_screen.dart:559:38:
Error: Method not found: 'setState'.
                    onPressed: () => setState(() => _replyMessage = null),
                                     ^^^^^^^^
lib/features/chat/chat_screen.dart:559:32:
Error: Not a constant expression.
                    onPressed: () => setState(() => _replyMessage = null),
                               ^^
lib/features/chat/chat_screen.dart:557:19:
Error: Constant expression expected.
                  IconButton(
                  ^^^^^^^^^^
lib/features/chat/chat_screen.dart:537:27:
Error: Constant expression expected.
                children: [
                          ^
lib/features/chat/chat_screen.dart:536:22:
Error: Constant expression expected.
              child: Row(
                     ^^^
lib/features/chat/chat_screen.dart:524:24:
Error: Expected ';' after this.
                      ),
                       ^
lib/features/chat/chat_screen.dart:527:17:
Error: Expected ';' after this.
                ));
                ^
lib/features/chat/chat_screen.dart:527:18:
Error: Expected an identifier, but got ')'.
                ));
                 ^
lib/features/chat/chat_screen.dart:527:18:
Error: Unexpected token ';'.
                ));
                 ^
lib/features/chat/chat_screen.dart:573:33:
Error: Not a constant expression.
                    controller: _controller,
                                ^^^^^^^^^^^
lib/features/chat/chat_screen.dart:579:77:
Error: Constant expression expected.
                      border: OutlineInputBorder(borderRadius: BorderRadius.circular(24)),
                                                                            ^^^^^^^^
lib/features/chat/chat_screen.dart:579:77:
Error: Cannot invoke a non-'const' constructor where a const expression is expected.
                      border: OutlineInputBorder(borderRadius: BorderRadius.circular(24)),
                                                                            ^^^^^^^^
lib/features/chat/chat_screen.dart:579:31:
Error: Constant expression expected.
                      border: OutlineInputBorder(borderRadius: BorderRadius.circular(24)),
                              ^^^^^^^^^^^^^^^^^^
lib/features/chat/chat_screen.dart:577:33:
Error: Constant expression expected.
                    decoration: InputDecoration(
                                ^^^^^^^^^^^^^^^
lib/features/chat/chat_screen.dart:572:26:
Error: Constant expression expected.
                  child: TextField(
                         ^^^^^^^^^
lib/features/chat/chat_screen.dart:571:17:
Error: Constant expression expected.
                Expanded(
                ^^^^^^^^
lib/features/chat/chat_screen.dart:586:35:
Error: Undefined name 'context'.
                  color: Theme.of(context).colorScheme.primary,
                                  ^^^^^^^
lib/features/chat/chat_screen.dart:586:32:
Error: Method invocation is not a constant expression.
                  color: Theme.of(context).colorScheme.primary,
                               ^^
lib/features/chat/chat_screen.dart:586:44:
Error: Not a constant expression.
                  color: Theme.of(context).colorScheme.primary,
                                           ^^^^^^^^^^^
lib/features/chat/chat_screen.dart:587:30:
Error: Not a constant expression.
                  onPressed: _sendMessage,
                             ^^^^^^^^^^^^
lib/features/chat/chat_screen.dart:584:17:
Error: Constant expression expected.
                IconButton(
                ^^^^^^^^^^
lib/features/chat/chat_screen.dart:570:25:
Error: Constant expression expected.
              children: [
                        ^
lib/features/chat/chat_screen.dart:569:20:
Error: Constant expression expected.
            child: Row(
                   ^^^
lib/features/chat/chat_screen.dart:535:33:
Error: Constant evaluation error:
              color: Colors.grey[100],
                                ^
lib/features/chat/chat_screen.dart:535:33:
Info: The method '[]' can't be invoked on 'MaterialColor {}' in a constant expression.
 - 'MaterialColor' is from 'package:flutter/src/material/colors.dart' ('/usr/local/share/flutter/packages/flutter/lib/src/material/colors.dart').
              color: Colors.grey[100],
                                ^
lib/features/chat/chat_screen.dart:535:15:
Info: While analyzing:
              color: Colors.grey[100],
              ^
lib/features/chat/chat_screen.dart:537:27:
Error: Non-constant list literal is not a constant expression.
                children: [
                          ^
Error: Compilation failed.
  Command: /usr/local/share/flutter/bin/cache/dart-sdk/bin/dart compile js --platform-binaries=/usr/local/share/flutter/bin/cache/flutter_web_sdk/kernel --invoker=flutter_tool -Ddart.vm.product=true -DFLUTTER_VERSION=3.38.5 -DFLUTTER_CHANNEL=stable -DFLUTTER_GIT_URL=https://github.com/flutter/flutter.git -DFLUTTER_FRAMEWORK_REVISION=f6ff1529fd -DFLUTTER_ENGINE_REVISION=1527ae0ec5 -DFLUTTER_DART_VERSION=3.10.4 -DFLUTTER_WEB_USE_SKIA=true -DFLUTTER_WEB_USE_SKWASM=false -DFLUTTER_WEB_CANVASKIT_URL=https://www.gstatic.com/flutter-canvaskit/1527ae0ec577a4ef50e65f6fefcfc1326707d9bf/ --native-null-assertions --no-source-maps -O4 --minify -o /Users/matt/ffig-mobile-app/mobile_app/.dart_tool/flutter_build/d31f487c3754d411e7dc5ad3b0f84884/app.dill --packages=/Users/matt/ffig-mobile-app/mobile_app/.dart_tool/package_config.json --cfe-only /Users/matt/ffig-mobile-app/mobile_app/.dart_tool/flutter_build/d31f487c3754d411e7dc5ad3b0f84884/main.dart
#0      RunResult.throwException (package:flutter_tools/src/base/process.dart:153:5)
#1      _DefaultProcessUtils.run (package:flutter_tools/src/base/process.dart:379:19)
<asynchronous suspension>
#2      Dart2JSTarget.build (package:flutter_tools/src/build_system/targets/web.dart:207:5)
<asynchronous suspension>
#3      _BuildInstance._invokeInternal (package:flutter_tools/src/build_system/build_system.dart:895:9)
<asynchronous suspension>
#4      Future.wait.<anonymous closure> (dart:async/future.dart:546:21)
<asynchronous suspension>
#5      _BuildInstance.invokeTarget (package:flutter_tools/src/build_system/build_system.dart:833:32)
<asynchronous suspension>
#6      Future.wait.<anonymous closure> (dart:async/future.dart:546:21)
<asynchronous suspension>
#7      _BuildInstance.invokeTarget (package:flutter_tools/src/build_system/build_system.dart:833:32)
<asynchronous suspension>
#8      FlutterBuildSystem.build (package:flutter_tools/src/build_system/build_system.dart:653:16)
<asynchronous suspension>
#9      WebBuilder.buildWeb (package:flutter_tools/src/web/compile.dart:94:34)
<asynchronous suspension>
#10     BuildWebCommand.runCommand (package:flutter_tools/src/commands/build_web.dart:296:5)
<asynchronous suspension>
#11     FlutterCommand.run.<anonymous closure> (package:flutter_tools/src/runner/flutter_command.dart:1559:27)
<asynchronous suspension>
#12     AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:154:19)
<asynchronous suspension>
#13     CommandRunner.runCommand (package:args/command_runner.dart:212:13)
<asynchronous suspension>
#14     FlutterCommandRunner.runCommand.<anonymous closure> (package:flutter_tools/src/runner/flutter_command_runner.dart:487:9)
<asynchronous suspension>
#15     AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:154:19)
<asynchronous suspension>
#16     FlutterCommandRunner.runCommand (package:flutter_tools/src/runner/flutter_command_runner.dart:422:5)
<asynchronous suspension>
#17     run.<anonymous closure>.<anonymous closure> (package:flutter_tools/runner.dart:104:11)
<asynchronous suspension>
#18     AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:154:19)
<asynchronous suspension>
#19     main (package:flutter_tools/executable.dart:103:3)
<asynchronous suspension>

Compiling lib/main.dart for the Web...                            123,6s
Error: Failed to compile application for the Web.
